# Incident: YYYY-MM-DD HH-mm-ss

## Summary

Between the hour of 12:30 and 13:33 on 12/3/2025, users encountered a problem where they were not able to verify their pizza purchase. The event was triggered by a change in the api/order endpoint at 12:30. The endpoint contained a website link instead of the typical order and jwt response.

A bug in this code caused people to not be able to buy and verify their pizza. The event was detected by monitoring JWT Pizza's "Pizza Purchase" metrics, which showed that there were no pizza purchase successes at this time. The team started working on the event by 13:20. This incident affected all users who tried to buy pizzas at that time.

## Detection

This incident was detected when the pizza purchase Grafana metrics were noticed to consistently have 0 successes.

The alerts did not trigger at this problem. There was an alert in place for pizza purchase failures which we believed would catch this, but that stayed relatviely the same. We added new alerts to monitor the pizza purchase successes so hopefully we catch errors like these in the future.

## Impact

For 1 hour between 12:30 on 13:33, our users could not buy pizzas.

This incident affected all our customers. Because all of them tried buying pizzas at that time.

## Timeline
All times are UTC.

- _12:30_ - Users couldn't buy pizzas.
- _13:20_ - The problem was noticed in the pizza purchase metrics. 
- _14:33_ - We fixed the problem.

## Response

Kaydance Turner responded to the incident. She was in class at that time, and was giving a presentation, so she wasn't able to immediatly fix the problem.

## Root cause
There was bad text in the json response for the api/order endpoint. 

## Resolution

Turner recreated the error on her machine buy trying to buy a pizza, and then was able to find the exact place where the problem was occuring by using Google's developer tools. She then clicked the convenient link that fixed all of the problems, which was also the source of the error.

## Prevention

This was caused by injecting a bad response into the order endpoint. All endpoints are vulnerable to this.

## Action items
We will make sure every response is validated against a strict schema before being returned to the client.

